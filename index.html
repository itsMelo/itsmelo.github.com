<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="Melo's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Melo's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Melo's Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Melo's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Melo's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">耐心的偏执狂，浪漫的现实主义</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/04/Android 6.0运行时权限简洁封装/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/04/Android 6.0运行时权限简洁封装/" itemprop="url">
                  Android 6.0 运行时权限简洁封装
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-04T23:48:23+08:00">
                2017-01-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/04/Android 6.0运行时权限简洁封装/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/04/Android 6.0运行时权限简洁封装/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<ul>
<li>文章来源：itsCoder 的 <a href="https://github.com/itsCoder/weeklyblog">WeeklyBolg</a> 项目</li>
<li>itsCoder主页：<a href="http://itscoder.com/">http://itscoder.com/</a></li>
<li>作者：<a href="https://itsmelo.github.io/">Melo</a></li>
<li>审阅者：<a href="">暂无</a></li>
</ul>
</blockquote>
<h1 id="Android-6-0-运行时权限简洁封装"><a href="#Android-6-0-运行时权限简洁封装" class="headerlink" title="Android 6.0 运行时权限简洁封装"></a>Android 6.0 运行时权限简洁封装</h1><blockquote>
<p>本文原创，转载请注明出处。<br>欢迎关注我的 <a href="http://www.jianshu.com/users/f5909165c1e8/latest_articles">简书</a> ，关注我的专题 <a href="http://www.jianshu.com/collection/b1fa46ec3b08">Android Class</a> 我会长期坚持为大家收录简书上高质量的 Android 相关博文。</p>
</blockquote>
<p><strong>写在前面：</strong></p>
<p>Android M 中有一个比较重要的知识点就是运行时权限了，关于运行时权限的文章和封装库目前也出现了不少，在开发的过程中始终觉得运行时权限这块的代码可以进一步封装一下，让其使用起来能再简洁一点，并且还不容易出错。关于 Android 运行时权限的知识就不多讲解了，可以参考下面的一些资料：</p>
<p><a href="https://developer.android.com/training/permissions/requesting.html">Android Runtime Permissions</a></p>
<p><a href="http://blog.csdn.net/lmj623565791/article/details/50709663">Android 6.0 运行时权限处理完全解析</a></p>
<p>知识点比较简单，大致了解和使用过后，就来开始我的这次封装之旅吧。</p>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2017/01/04/Android 6.0运行时权限简洁封装/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/12/12/死磕 Fragment 的生命周期/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/12/死磕 Fragment 的生命周期/" itemprop="url">
                  死磕 Fragment 的生命周期
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-12T23:26:45+08:00">
                2016-12-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/12/12/死磕 Fragment 的生命周期/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/12/死磕 Fragment 的生命周期/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<ul>
<li>文章来源：itsCoder 的 <a href="https://github.com/itsCoder/weeklyblog">WeeklyBolg</a> 项目</li>
<li>itsCoder主页：<a href="http://itscoder.com/">http://itscoder.com/</a></li>
<li>作者：<a href="https://itsmelo.github.io/">Melo</a></li>
<li>审阅者：<a href="https://github.com/jasonim">jasonim</a></li>
</ul>
</blockquote>
<p>本文例子中 github 地址：<br><a href="https://github.com/itsMelo/BuzzerBeater">github BuzzerBeater 项目链接</a><br>（第一个开源项目，目前在逐步更新一些知识点，希望对你有所帮助）</p>
<p>曾经在北京拥挤的13号线地铁上，一名背着双肩包穿着格子衫带着鸭舌帽脚踏帆布鞋的程序员讲了一句：<br>“我觉得 Fragment 真的太难用了”。从而引起一阵躁动激烈的讨论。</p>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/12/12/死磕 Fragment 的生命周期/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/20/面向对象六大原则和设计模式/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/20/面向对象六大原则和设计模式/" itemprop="url">
                  面向对象六大原则和设计模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-20T22:00:04+08:00">
                2016-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/11/20/面向对象六大原则和设计模式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/20/面向对象六大原则和设计模式/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<ul>
<li>文章来源：itsCoder 的 <a href="https://github.com/itsCoder/weeklyblog">WeeklyBolg</a> 项目</li>
<li>itsCoder主页：<a href="http://itscoder.com/">http://itscoder.com/</a></li>
<li>作者：<a href="https://itsmelo.github.io/">Melo</a></li>
<li>审阅者：<a href=""></a></li>
</ul>
</blockquote>
<p><strong>写在前面：</strong></p>
<p>最近这段时间，无论是写文章的频率，还是新知识的汲取，都不如以往有热情。总是拿工作忙当借口，但是心里明白还是懒和拖延作祟。静下心来反思了最近的状态，还是要及时止住惰性，保持一个良好的、有节奏的学习步调。</p>
<p>本文的内容来自 <strong>Android</strong> 进阶书籍《从小工到专家》，六大原则和设计模式章节。读过之后觉得非常受用，所以为大家整理出来，之后也会带来 <strong>设计模式</strong> 和 <strong>单元测试</strong> 以及 <strong>代码重构</strong> 的介绍，希望我们能早日从码农变成一个开发工程师。话不多说，下面带来书中原汁原味的内容。</p>
<p>在工作的初期，我们可能会经常有这样的感受，自己的代码接口设计混乱、代码耦合较为严重、一个类的代码过多等等，当自己回头再看这些代码时可能会感慨，怎么能写成这个鸟样。再看那些知名的开源库，它们大多有整洁的代码、清晰简单的接口、职责单一的类，这个时候我们会通常会捶胸顿足而感慨：什么时候老夫才能写出这样的代码！</p>
<p>在做开发的这些年中，我渐渐的感觉到，其实国内的一些初、中级工程师写的东西不规范或者说不够清晰的原因是缺乏一些指导规则。他们手中挥舞着面向对象的大旗，写出来的东西却充斥着面向过程的气味。也许是他们不知道有这些规则，也许是他们知道但是不能很好的运用到实际的代码中，亦或是他们没有在实战项目中体会到这些原则能够带来的优点，以至于他们对这些原则并没有足够的重视。</p>
<p>本章没有详细介绍 OOP 六大原则、设计模式、反模式等内容，只是对它们做了一些简单的介绍。并不是因为它们不重要，而是由于它们太重要，因此我们必须阅读更详尽的书籍来涉入这些知识，设计模式可以参考《设计模式之禅》、《设计模式：可复用面向对象软件的基础》以及《Android源码设计模式解析与实战》，反模式的权威书籍则为《反模式：危机中软件、架构和项目的重构》一书。</p>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/11/20/面向对象六大原则和设计模式/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/31/帧动画和补间动画/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/31/帧动画和补间动画/" itemprop="url">
                  死磕 Fragment 的生命周期
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-31T22:43:46+08:00">
                2016-10-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/10/31/帧动画和补间动画/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/31/帧动画和补间动画/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<ul>
<li>文章来源：itsCoder 的 <a href="https://github.com/itsCoder/weeklyblog" target="_blank" rel="external">WeeklyBolg</a> 项目</li>
<li>itsCoder主页：<a href="http://itscoder.com/" target="_blank" rel="external">http://itscoder.com/</a></li>
<li>作者：<a href="https://itsmelo.github.io/" target="_blank" rel="external">Melo</a></li>
<li>审阅者：<a href="https://github.com/jasonim" target="_blank" rel="external">jasonim</a></li>
</ul>
</blockquote>
<p>本文例子中 github 地址：<br><a href="https://github.com/itsMelo/BuzzerBeater" target="_blank" rel="external">github BuzzerBeater 项目链接</a><br>（第一个开源项目，目前在逐步更新一些知识点，希望对你有所帮助）</p>
<p>曾经在北京拥挤的13号线地铁上，一名背着双肩包穿着格子衫带着鸭舌帽脚踏帆布鞋的程序员讲了一句：<br>“我觉得 Fragment 真的太难用了”。从而引起一阵躁动激烈的讨论。</p>
<p><strong>正方观点：</strong></p>
<p>Fragment 真的太好用了。要知道因为 Activity 的启动，涉及到 Android 系统对 ActivityManager 的调度，会关联许多资源和进行诸多复杂运算，在一些高端手机上，这个调度的时长甚至会超过 100 ms。反观 Fragment，启动如巧克力入口般顺滑，轻量不消耗手机资源。还可以做成一个个模块，方便 Activity 复用。并且如果要涉及平板的适配，Fragment 更是必不可少。</p>
<p><strong>反方观点：</strong></p>
<p>Fragment 难用，属于坑多难填。Fragment 本质上是一个有生命周期的 View，生命周期繁多并且异常难管理，多个 Fragment 嵌套更是坑中之坑（我也遇到过…），连 square 和 FaceBook 都摒弃了 Fragment，更何况我们呢！</p>
<p>好吧，不要吵了，用或者不用，遇到问题如何解决，相信大家心里都有一个自己的答案。结合我自己开发时候遇到的问题，下面我们来总结一下 Fragment 的生命周期管理方式，以及一些技巧和建议。</p>
<h2 id="hide-amp-show"><a href="#hide-amp-show" class="headerlink" title="hide &amp; show"></a>hide &amp; show</h2><p>先结合一张项目截图，来直观地看看目前我是如何管理 Fragment 的。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-beb0ccb60fbfee45?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="项目截图"></p>
<p>因为我们的项目架构是一 Activity 多 Fragment，并且把所有的 Fragment 都装载到了一个 ViewPager 里面，启动一个新的 Fragment 的过程也是 ViewPager 滑动翻页的过程，未来会考虑把这种管理方式总结成文，整理给大家。总之你目前看到的上图界面，都是 Fragment 呈现的，并且点击按钮什么的，也会跳转到下一个 Fragment，这就涉及到了 Fragment 嵌套。</p>
<p>我也写了一个 Demo，去模拟了这个页面的搭建。</p>
<p>这里想多说几句</p>
<p>通过点击下方 Tab  管理页面的方式目前非常主流，这种布局方式事实上是从 iOS 上面借鉴过来的。（反正现在两大系统都是相互学习）在前一阵 google 的 support 25 包也终于推出了官方的 BottomNavigationView ，不过我的 Android Studio 安装 support 25 总是失败，所以在项目中我选用了一个还不错的开源库来做下方的底部导航。</p>
<p>BottomNavigationView 本身有一套 Material Design 的设计规范如下：</p>
<p><a href="https://material.google.com/components/bottom-navigation.html#bottom-navigation-usage" target="_blank" rel="external"> Material Design Navigation Bottom</a></p>
<p>感兴趣的去阅读一下，以后对产品、设计开撕是很有帮助的。其中有这么一条很有意思，是说 BottomNavigationView 并不建议把它设计成横向滑动的形式，也就是用 ViewPager 去装载 Fragment。为什么说这句很有意思呢？事实上市面上很多主流的 app，它们的 BottomNavigationView 确实是不可以横向滑动的，而我们每个人都在用的，月活8亿的国民软件微信，就恰恰把它的主页面做成了可以横向滑动的。</p>
<p>这里我想说下我的个人看法，首先规范未必需要严格遵守，做什么样的功能实现什么样的效果，要结合自己项目的架构和产品做一个合理的需求。拿 360手机助手 这个 app 举例，它底部的每一个 tab 都搭建了一个非常“重量级”的模块，并且每个 tab 下界面的内部还有许多负责的 View 层级和嵌套滑动的 ViewPager，所以试想一下，这样的页面要是做成微信那个样子，不卡顿就怪了~反观微信，首先我认为它的每个界面层级和交互都不复杂，逻辑也都在页面内，所以做成横向滑动的反而能提升用户的体验。</p>
<p>好了，前面说了好多无关紧要的话，赶紧来看看 demo 中通过 hide 和 show 的方式如何来管理 Fragment。<br><strong>MainActivity</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line">private SearchFragment searchFragment;</div><div class="line">private MusicFragment musicFragment;</div><div class="line">private CarFragment carFragment;</div><div class="line">private SettingFragment settingFragment;</div><div class="line"></div><div class="line">private BaseFragment currentFragment;</div><div class="line"></div><div class="line">@Override</div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">    super.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.activity_main);</div><div class="line">    ButterKnife.bind(this);</div><div class="line">    setSupportActionBar(toolbar);</div><div class="line">    initView();</div><div class="line">    initData();</div><div class="line">    initListener();</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void initData() &#123;</div><div class="line">    if (searchFragment == null) &#123;</div><div class="line">        searchFragment = SearchFragment.newInstance(getString(R.string.tab_1));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    if (!searchFragment.isAdded()) &#123;</div><div class="line">        // 提交事务</div><div class="line">        getSupportFragmentManager().beginTransaction().add(R.id.fl_content, searchFragment).commit();</div><div class="line"></div><div class="line">        // 记录当前Fragment</div><div class="line">        currentFragment = searchFragment;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void initListener() &#123;</div><div class="line">    bottomNavigation.setOnTabSelectedListener(new AHBottomNavigation.OnTabSelectedListener() &#123;</div><div class="line">        @Override</div><div class="line">        public boolean onTabSelected(int position, boolean wasSelected) &#123;</div><div class="line"></div><div class="line">            Log.d(TAG, &quot;onTabSelected: position:&quot; + position + &quot;,wasSelected:&quot; + wasSelected);</div><div class="line"></div><div class="line">            if (position == 0) &#123;// 导航</div><div class="line">                clickSearchLayout();</div><div class="line">            &#125; else if (position == 1) &#123;// 音乐</div><div class="line">                clickMusicLayout();</div><div class="line">            &#125; else if (position == 2) &#123;// 车辆</div><div class="line">                clickCarLayout();</div><div class="line">            &#125; else if (position == 3) &#123;</div><div class="line">                clickSettingLayout();</div><div class="line">            &#125; else if (position == 4) &#123;</div><div class="line">                clickToysLayout();</div><div class="line">            &#125;</div><div class="line">            return true;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line">private void clickSearchLayout() &#123;</div><div class="line">    if (searchFragment == null) &#123;</div><div class="line">        searchFragment = SearchFragment.newInstance(getString(R.string.tab_1));</div><div class="line">    &#125;</div><div class="line">    addOrShowFragment(getSupportFragmentManager().beginTransaction(), searchFragment);</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void clickMusicLayout() &#123;</div><div class="line">    if (musicFragment == null) &#123;</div><div class="line">        musicFragment = MusicFragment.newInstance(getString(R.string.tab_2));</div><div class="line">    &#125;</div><div class="line">    addOrShowFragment(getSupportFragmentManager().beginTransaction(), musicFragment);</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void clickCarLayout() &#123;</div><div class="line">    if (carFragment == null) &#123;</div><div class="line">        carFragment = CarFragment.newInstance(getString(R.string.tab_3));</div><div class="line">    &#125;</div><div class="line">    addOrShowFragment(getSupportFragmentManager().beginTransaction(), carFragment);</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void clickSettingLayout() &#123;</div><div class="line">    if (settingFragment == null) &#123;</div><div class="line">        settingFragment = SettingFragment.newInstance(getString(R.string.tab_4));</div><div class="line">    &#125;</div><div class="line">    addOrShowFragment(getSupportFragmentManager().beginTransaction(), settingFragment);</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">/**</div><div class="line"> * 添加或者显示 fragment</div><div class="line"> *</div><div class="line"> * @param transaction</div><div class="line"> * @param fragment</div><div class="line"> */</div><div class="line">private void addOrShowFragment(FragmentTransaction transaction, Fragment fragment) &#123;</div><div class="line">    if (currentFragment == fragment)</div><div class="line">        return;</div><div class="line"></div><div class="line">    if (!fragment.isAdded()) &#123; // 如果当前fragment未被添加，则添加到Fragment管理器中</div><div class="line">        transaction.hide(currentFragment).add(R.id.fl_content, fragment).commit();</div><div class="line">    &#125; else &#123;</div><div class="line">        transaction.hide(currentFragment).show(fragment).commit();</div><div class="line">    &#125;</div><div class="line">    currentFragment = (BaseFragment) fragment;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>代码理解起来非常容易，我通过 add &amp; show / hide 的方式来管理底部的四个 tab 相互切换，并且打印了这四个 Fragment 的所有生命周期方法，包括<code>onHiddenChanged</code> 和 <code>setUserVisibleHint</code></p>
<p>当第一次进入某个页面时：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-73843156f8e179ab?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="首次进入某个页面时"></p>
<p>可以看到，当我依次点击下方四个 tab，界面第一次加载的时，会走 Fragment 的创建周期 onAttach – onResume，也许你会问，上面我执行相互切换操作，从第一个页面切换到第二个的时候，为什么第一个 Fragment 页面不可见了，不会调用 onPause 和 onStop 呢？</p>
<p>这是在你了解过 Activity 生命周期并且刚接触 Fragment 的生命周期时，第一个容易陷入的误区，事实上 Fragment 的生命周期，除了第一次它创建或销毁之外，统统都是由 Activity 所驱动的。 举个例子，当我点击 home 键回到桌面时：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-a2f60abb148e85ed?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="点击 home 键"></p>
<p>可以看到我已经加载了的几个 Fragment 齐刷刷的调用了 onPause 和 onStop，如此得步调一致是因为这些 Fragment attach 的 Activity 回调了 onPause 和 onStop。相信肯定会有人说“不对啊，我要是用 replace 的方式去切换 Fragment，我打包票 Fragment 会像 Activity 一样，完整得走完生命周期“</p>
<p>你说的没错，因为 replace 这种切换方式就是始终上面我总结的那句“首次创建或销毁“，并且在 BottomNavigation 这样的使用场景中，没人会用这种 replace 的方式，因为每次切换都要重新创建 Fragment，用户看了下流量估计会打 12315 了。</p>
<p>（如果 Fragment 代表前男/女友，据说男人是用 add 保存，女人使用 replace 替换 hhh…）</p>
<p>当底部的四个 Fragment 都已经加载完成之后咧？再一起看下 log：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-e07a6adc37fe2be8?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="onHiddenChanged 回调"></p>
<p>当底部四个 Fragment 全部创建入栈之后，show 和 hide 来管理 Fragment，此时只有 <code>onHiddenChanged</code> 方法回调，这时候显然你可以在 <code>hide = false</code> 时，做一些资源回收操作，在 <code>hide = true</code> 时，做一些刷新操作。</p>
<p>在刚才我们打印的方法中，好像有一个一直没出现，没错就是 <code>setUserVisibleHint</code>，如果你做过 Fragment+ViewPager 的懒加载（下文我们会讲这个），相信你对它就比较熟悉了，通过名字就能猜测出来，这个方法是我们主动设置给 Fragment 的，那我们就来试试看：</p>
<p>改造 <code>addOrShowFragment</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 添加或者显示 fragment</div><div class="line"> *</div><div class="line"> * @param transaction</div><div class="line"> * @param fragment</div><div class="line"> */</div><div class="line">private void addOrShowFragment(FragmentTransaction transaction, Fragment fragment) &#123;</div><div class="line">    if (currentFragment == fragment)</div><div class="line">        return;</div><div class="line"></div><div class="line">    if (!fragment.isAdded()) &#123; // 如果当前fragment未被添加，则添加到Fragment管理器中</div><div class="line">        transaction.hide(currentFragment).add(R.id.fl_content, fragment).commit();</div><div class="line">    &#125; else &#123;</div><div class="line">        transaction.hide(currentFragment).show(fragment).commit();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    currentFragment.setUserVisibleHint(false);</div><div class="line"></div><div class="line">    currentFragment = (BaseFragment) fragment;</div><div class="line"></div><div class="line">    currentFragment.setUserVisibleHint(true);</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在切换时，我们对上一个 fragment <code>setUserVisibleHint</code>设置为 false，要展现的 Fragment <code>setUserVisibleHint</code> 设置为 true，打印 log 看看：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-4449ec0891b3f069?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="setUserVisibleHint"></p>
<p>可以看到目前我们用 setUserVisibleHint 也达到了与 onHiddenChanged 一样的效果。</p>
<p>文章写到现在，我们来做一个总结，上文的这种方式就是主流通过 BottomNavigation 管理 Fragment 的方式，这种方式有什么好处呢？毫无疑问会节省资源，不点开的界面不去创建它（这一点 ViewPager 做不到），只创建一次，未来仅仅更新界面数据就可以了。</p>
<h2 id="ViewPaager-amp-Fragment"><a href="#ViewPaager-amp-Fragment" class="headerlink" title="ViewPaager &amp; Fragment"></a>ViewPaager &amp; Fragment</h2><p>ViewPager 和 Fragment 配合使用相信大多数人都很熟悉了，所以来快速地给大家总结一下我认为需要梳理清楚的几个知识点，先来看我搭建的页面：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-9d4ecb7454abbf8f?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="TabLayout+ViewPager"></p>
<p>我在导航的这个模块中，搭建了一个 TabLayout+ViewPager+Fragment 的页面结构，当启动 app，进入首页，各个 Fragment 的生命周期方法是怎样的呢？</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-06aec47f6157e0aa?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="首页和 Tab 页生命周期方法"></p>
<p>可以看到，当我进入 app 的时候，所有 TabLayout 所在的父容器 SearchFragment 创建，调用了 onAttach –&gt; onResume 这当然是我们预料之中的，我们 ViewPager 第一个装载并展示的是 ScienceFragment，ScienceFragment 创建没有问题，可是第二个 tab GameFragment 为什么加载了呢？</p>
<p>没错这就是 ViewPager 的预加载机制。</p>
<p>ViewPager 出于优化体验的好心，默认去加载相邻两页，来尽可能保证滑动的流畅性，可是假如我们这是一个新闻资讯类的 app，每一个 tab 涉及了复杂的页面和大量的网络请求，这种预加载的机制带来的可能就是麻烦了。所以我们寻找一些办法试图去掉 ViewPager 的预加载。</p>
<p>ViewPager 自身提供了一个方法，<code>mViewPager.setOffscreenPageLimit()</code>，这个方法的官方文档的解释：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-b50d507d34361c7b?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="setOffscreenPageLimit 官方文档"></p>
<p>它的意思就是设置 ViewPager 左右两侧缓存页的数量，默认是1，那我们给它设置为0，是不是就能取消预加载了呢？再看看这段蜜汁源码：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-41aeb6dc992ac5b9?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="setOffscreenPageLimit 源码"></p>
<p>总之源码的意思就是你设置为小于1的值就默认为1，反正这条路目前行不通了。</p>
<p>当然还有一个办法，你直接修改源码以后重新打一个 v4 包，不过非常不建议这样做，未来会产生一些兼容问题。</p>
<p>好吧，你应该知道马上就要说 ViewPager 的懒加载了， 就是要用到上文我们提到的 setUserVisibleHint 方法，当我左右滑动时，来看看打印的 log：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-a1a256101fcdd443?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="滑动时 log"></p>
<p>从 log 中可以分析到两个问题，首先 setUserVisibleHint 这个方法可能会在 onAttach 之前就调用，其次在滑动中设置缓存页数之外的页确实是销毁了。</p>
<p>回顾下前文， 明明说 setUserVisibleHint 这个方法需要主动调用，那在 ViewPager 中，Fragment 的 setUserVisibleHint 方法是谁在何时调用的呢？</p>
<p>我的 ViewPager Adapter 在这里：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">public class MainTabAdapter extends FragmentStatePagerAdapter &#123;</div><div class="line"></div><div class="line">    private List&lt;Fragment&gt; mList;</div><div class="line"></div><div class="line">    private String mTabTitle[] = new String[]&#123;&quot;科技&quot;, &quot;游戏&quot;, &quot;装备&quot;, &quot;创业&quot;, &quot;想法&quot;&#125;;</div><div class="line"></div><div class="line">    public MainTabAdapter(FragmentManager fm, List&lt;Fragment&gt; list) &#123;</div><div class="line">        super(fm);</div><div class="line">        mList = list;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public Fragment getItem(int position) &#123;</div><div class="line">        return mList.get(position);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public int getCount() &#123;</div><div class="line">        return mList.size();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public CharSequence getPageTitle(int position) &#123;</div><div class="line">        return mTabTitle[position];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>看来看去也就 FragmentStatePagerAdapter  能做这件事了，点进去看看：</p>
<p>FragmentStatePagerAdapter 这个类其实就是一个对 PagerAdapter 的一个封装类，不到200行的代码，果真找到了 setUserVisibleHint 。</p>
<p>有两处位置调用了 setUserVisibleHint ，第一个位置：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-86b3cdad740a50ef?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="instantiateItem"></p>
<p>第二个位置：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-303808d658d7e612?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="setPrimaryItem"></p>
<p>这里源码处理的逻辑是这样子的：</p>
<p>在 instantiateItem 方法中，在我的数据集合中取出对应 positon 的 Fragment，直接给它的 setUserVisibleHint 设置为 false，然后才把它 add 进 FragmentTransaction 中，这恰恰解释了为什么 setUserVisibleHint 的第一次调用是在 onAttach 之前。</p>
<p>下一步 setUserVisibleHint 的设置是在 <code>setPrimaryItem</code>中，<code>setPrimaryItem</code>这个方法可以得到当前 ViewPager 正在展示的 Fragment，并且将上一个 Fragment 的 setUserVisibleHint 置为 false，将要展示的 setUserVisibleHint 置为 true。</p>
<p>通过阅读源码，我们明白了原理，所以直接给大家上在 BaseFragment 实现懒加载代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class BaseFragment extends Fragment &#123;</div><div class="line"></div><div class="line">    protected boolean isViewCreated = false;</div><div class="line"></div><div class="line">    @Nullable</div><div class="line">    @Override</div><div class="line">    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) &#123;</div><div class="line">        return super.onCreateView(inflater, container, savedInstanceState);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void setUserVisibleHint(boolean isVisibleToUser) &#123;</div><div class="line">        super.setUserVisibleHint(isVisibleToUser);</div><div class="line">        if (getUserVisibleHint()) &#123;</div><div class="line">            lazyLoadData();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * 懒加载方法</div><div class="line">     */</div><div class="line">    protected void lazyLoadData() &#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在具体的 Fragment 中实现懒加载<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">public class ScienceFragment extends BaseFragment &#123;</div><div class="line"></div><div class="line">    @Nullable</div><div class="line">    @Override</div><div class="line">    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) &#123;</div><div class="line">        View view = inflater.inflate(R.layout.fragment_science, container, false);</div><div class="line">        Log.e(TAG, &quot;onCreateView&quot;);</div><div class="line">        isViewCreated = true;</div><div class="line">        return view;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    protected void lazyLoadData() &#123;</div><div class="line">        super.lazyLoadData();</div><div class="line">        if (isViewCreated) &#123;</div><div class="line">            Log.e(TAG, &quot;lazyLoadData...&quot;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>看下 log：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-e5ca14d9d1143cba?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="懒加载 log"></p>
<p>可以看到，懒加载就这样实现了。</p>
<p>这里我们再做一个阶段总结，首先大家心里要清楚 setUserVisibleHint 这个是 ViewPager 的行为，它始终都是先行与 Fragment 的生命周期调用的。我们之所以能用懒加载这种办法，主要是因为预加载的 Fragment 已经创建完成一路调用了 onAttach –&gt; onPause，也就是说这个 Fragment 此时可用的，懒加载才有理由生效。不知道这样描述是否难懂，但是跑一下本文的例子就肯定能明白上面这段话了。</p>
<p>所以当 Fragment 第一次创建时，懒加载不会同时调用，所以我们来继续优化优化，我们让 ViewPager 一起加载这五个 Fragment 的布局，然后懒加载就全程可用啦~</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mViewPager.setOffscreenPageLimit(5);</div></pre></td></tr></table></figure>
<p>此时无论是我滑动还是点击上方 tab 跳转到任意一个页面，<code>lazyLoadData</code> 方法都会调用，我们可以先加载布局出来，然后可见时刷新数据就 OK 了。</p>
<p>关于 Fragment 的管理，主要就是上文的两种方式，一是 add 和 hide 管理，二是 ViewPager + Fragment，当然具体到每个人自己的项目时，需要分析需求和产品思路找到一个适合自己的方式。当我们知道原理时，做操作就心里有底多了，出了问题也可以快速定位。</p>
<p>上面我们 ViewPager 的 adapter 使用的是 FragmentStatePagerAdapter，还有一个 FragmentPagerAdapter，因为本文的篇幅有些过长，下次会总结出它们在源码角度的区别，以及使用过程中踩到的一些坑。（如果有一些奇怪的问题无法解决，建议先使用 FragmentStatePagerAdapter）。</p>
<p><strong>写在最后：</strong></p>
<p>我们回过头来看开始那个辩题， Fragment 到底用不用？对于大多数开发者来说，当然要用，我个人其实还非常喜欢 Fragment，使用 Fragment 能体现 Android 组件化的思想，其带给开发者的便利远大于麻烦。虽然其生命周期复杂，栈又奇怪难管理，不过当正确的姿势使用 Fragment（不要嵌套 Fragment 使用），趟过一个个坑时，对 Fragment 自然也有信心了。</p>
<p>最后再上一张 Fragment 的生命周期图吧~</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1915184-b0185314cdb61adc?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="fragment 生命周期"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/08/19/Android 中不得不谈的 setContentView/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/19/Android 中不得不谈的 setContentView/" itemprop="url">
                  Activity 中不得不谈的 setContentView
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-19T22:24:34+08:00">
                2016-08-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/08/19/Android 中不得不谈的 setContentView/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/19/Android 中不得不谈的 setContentView/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote>
<ul>
<li>文章来源：itsCoder 的 <a href="https://github.com/itsCoder/weeklyblog">WeeklyBolg</a> 项目</li>
<li>itsCoder主页：<a href="http://itscoder.com/">http://itscoder.com/</a></li>
<li>作者：<a href="https://itsmelo.github.io/">Melo</a></li>
<li>审阅者：<a href="">暂无</a><br><strong>写在前面：</strong><br>几个月之前在做项目的布局优化时，使用 <strong>Hierarchy Viewer</strong> 查看项目的层级结构，然后发现顶层的布局并不是在XML中我写的根布局，而是嵌套了多层 Layout ，简单查阅了一些资料之后明白这是系统为我们加上的。把这个知识点写在了印象笔记中的 TODO list（里面还有好多知识想研究，一直在拖延T.T），搁置了好久最近重新拿出来好好研究了一下，争取做到温故知新，融会贯通嘛。</li>
</ul>
</blockquote>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/08/19/Android 中不得不谈的 setContentView/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/08/12/开发一个Android应用之前，应该考虑点什么/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/12/开发一个Android应用之前，应该考虑点什么/" itemprop="url">
                  开发一个Android应用之前，应该考虑点什么？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-12T16:33:18+08:00">
                2016-08-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/08/12/开发一个Android应用之前，应该考虑点什么/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/12/开发一个Android应用之前，应该考虑点什么/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="开发一个Android应用之前，应该考虑点什么？"><a href="#开发一个Android应用之前，应该考虑点什么？" class="headerlink" title="开发一个Android应用之前，应该考虑点什么？"></a>开发一个Android应用之前，应该考虑点什么？</h1><p><img src="http://upload-images.jianshu.io/upload_images/1915184-e22b0058b534ace3?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="开心一刻"><br>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/08/12/开发一个Android应用之前，应该考虑点什么/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/08/01/Activity的生命周期，你足够了解吗？/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/01/Activity的生命周期，你足够了解吗？/" itemprop="url">
                  Activity的生命周期，你足够了解吗？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-08-01T17:51:11+08:00">
                2016-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/08/01/Activity的生命周期，你足够了解吗？/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/01/Activity的生命周期，你足够了解吗？/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Activity的生命周期，你足够了解吗？"><a href="#Activity的生命周期，你足够了解吗？" class="headerlink" title="Activity的生命周期，你足够了解吗？"></a>Activity的生命周期，你足够了解吗？</h1><p><strong>写在前面：</strong><br>对于Activity的生命周期，相信只要已经接触过Android的同学，一定可以说出个大概，因为Activity的生命周期真的是太重要的机制了。不过在开发中，我们在每个生命周期方法应该做些什么，还有一些比较关键的知识细节也许你还不清楚，所以本文会带着大家再来探寻一次Activity的生命周期。<br><img src="http://upload-images.jianshu.io/upload_images/1915184-ce9b7e9c5b9796ce?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="开心一刻"><br>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/08/01/Activity的生命周期，你足够了解吗？/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/28/ActivityThread的main方法究竟做了什么？/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/28/ActivityThread的main方法究竟做了什么？/" itemprop="url">
                  ActivityThread的main方法究竟做了什么？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-28T10:38:32+08:00">
                2016-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/07/28/ActivityThread的main方法究竟做了什么？/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/28/ActivityThread的main方法究竟做了什么？/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="ActivityThread的main方法究竟做了什么？"><a href="#ActivityThread的main方法究竟做了什么？" class="headerlink" title="ActivityThread的main方法究竟做了什么？"></a>ActivityThread的main方法究竟做了什么？</h1><p><strong>写在前面：</strong><br>在暴雨天能去上课的都是好学生，能去上班的都是游泳运动员~<br>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/07/28/ActivityThread的main方法究竟做了什么？/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/28/Android微信自动回复功能/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/28/Android微信自动回复功能/" itemprop="url">
                  Android微信自动回复功能
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-28T10:35:00+08:00">
                2016-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/07/28/Android微信自动回复功能/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/28/Android微信自动回复功能/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Android微信自动回复功能"><a href="#Android微信自动回复功能" class="headerlink" title="Android微信自动回复功能"></a>Android微信自动回复功能</h1><p><strong>写在前面：</strong><br>最近接到老大的一个需求，要求在手机端拦截微信的通知（Notification），从而获得联系人和内容。之后将联系人和内容发送到我们的硬件产品上，展示出来之后，再将我们想回复内容传给微信，并且发送给相应联系人。<br>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/07/28/Android微信自动回复功能/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/28/跳出手机的Dialog--Presentation/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Melo">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Melo's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Melo's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/28/跳出手机的Dialog--Presentation/" itemprop="url">
                  跳出手机的Dialog--Presentation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-28T10:33:09+08:00">
                2016-07-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/07/28/跳出手机的Dialog--Presentation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/28/跳出手机的Dialog--Presentation/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="跳出手机的Dialog–Presentation"><a href="#跳出手机的Dialog–Presentation" class="headerlink" title="跳出手机的Dialog–Presentation"></a>跳出手机的Dialog–Presentation</h1><p><strong>写在前面：</strong><br><strong>Presentation 是 what？</strong><br>也许你刚看到标题的时候，会默默把这个单词扔到翻译工具里面，就像老大最开始跟我提起这个单词的时候一样。<br>
          <!--noindex-->
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/07/28/跳出手机的Dialog--Presentation/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://d04.res.meilishuo.net/pic/_o/e9/37/94e03408be9a138d6413f80782d7_500_500.cf.jpeg_8fa80129_s1_q0_150_5_0_226_800.jpg"
               alt="Melo" />
          <p class="site-author-name" itemprop="name">Melo</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">29</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/itsMelo" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/f5909165c1e8/latest_articles" target="_blank" title="简书">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  简书
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2012 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Melo</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"melo"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  








  
  

  

  

  

  


</body>
</html>
